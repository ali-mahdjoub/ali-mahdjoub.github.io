<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ali Mahdjoub â€” Portfolio</title>
  <meta name="description" content="Portfolio of Ali Mahdjoub â€” Android Developer and Software Engineer." />
  <meta name="theme-color" content="#f59e0b" />
  <meta property="og:title" content="Ali Mahdjoub â€” Android Developer" />
  <meta property="og:description" content="Android apps with clean architecture, smooth UI, and great performance." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="img/ali.jpg" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ðŸ”¥</text></svg>">
  <style>
    :root{
      /* Orange & Yellow palette */
      --bg: #0b0b0f;            /* near-black */
      --soft: #111118;          /* card background */
      --text: #f8fafc;          /* slate-50 */
      --muted: #cbd5e1;         /* slate-300 */
      --brand: #f97316;         /* orange-500 */
      --brand-2: #f59e0b;       /* amber-500 */
      --accent: #fde047;        /* yellow-300 */
      --ring: #f59e0b55;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
      --radius-sm: 12px;
      --radius-lg: 28px;
      --maxw: 1100px;
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      color:var(--text); background: var(--bg);
      min-height:100dvh; overflow-x:hidden;
    }
    a{color:inherit; text-decoration:none}
    .container{max-width:var(--maxw); margin-inline:auto; padding:0 20px}

    /* Animated background blobs */
    .blob{position:fixed; inset:auto -10% auto -10%; width:60vmax; height:60vmax; filter:blur(60px); opacity:.35; pointer-events:none; z-index:-1}
    .blob.one{top:-20vmax; left:-10vmax; background: radial-gradient(circle at 30% 30%, var(--brand), transparent 60%);} 
    .blob.two{bottom:-25vmax; right:-15vmax; background: radial-gradient(circle at 70% 70%, var(--brand-2), transparent 60%);} 
    .blob.three{top:30vh; left:40vw; background: radial-gradient(circle at 50% 50%, var(--accent), transparent 60%);} 
    @keyframes floaty {0%{transform:translate(0,0) rotate(0)} 50%{transform:translate(2vmax,-2vmax) rotate(10deg)} 100%{transform:translate(0,0) rotate(0)}}
    .blob{animation:floaty 18s ease-in-out infinite alternate}

    @media (prefers-reduced-motion: reduce){
      .blob{animation:none}
      .sparkle{display:none}
    }

    /* Header / Nav */
    header{
      position:sticky; top:0; z-index:50; backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(10,10,16,.9), rgba(10,10,16,.4));
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .nav{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:14px 0}
    .brand{display:flex; align-items:center; gap:12px; font-weight:800; letter-spacing:.2px}
    .brand .logo{width:42px; height:42px; border-radius:12px; display:grid; place-items:center; background:conic-gradient(from 30deg,var(--brand),var(--brand-2),var(--accent),var(--brand)); box-shadow: var(--shadow)}
    .brand .logo span{font-weight:900}
    .nav ul{display:flex; gap:22px; list-style:none; margin:0; padding:0}
    .nav a{opacity:.9; font-weight:600}
    .nav a.active, .nav a[aria-current="true"]{color:var(--accent)}
    .btn{
      display:inline-flex; align-items:center; gap:10px; padding:10px 16px; border-radius:12px; font-weight:700;
      background:linear-gradient(135deg,var(--brand),var(--brand-2)); border:0; color:black; box-shadow:var(--shadow);
    }
    .btn.secondary{background:linear-gradient(135deg,#1f2937,#0b0b0f); color:var(--muted); border:1px solid rgba(255,255,255,.08)}
    .menu-btn{display:none}

    /* Hero */
    .hero{padding:72px 0 40px}
    .hero-card{
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08); border-radius:var(--radius-lg); box-shadow: var(--shadow);
      position:relative; overflow:hidden
    }
    .sparkle{position:absolute; inset:0; background:radial-gradient(circle at var(--x,20%) var(--y,30%), rgba(253,224,71,.15), transparent 35%)}
    .hero-grid{display:grid; grid-template-columns:1.2fr .8fr; gap:28px; padding:36px}
    .chip{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;
      background:rgba(249,115,22,.12); border:1px solid rgba(245,158,11,.45); color:#fed7aa; font-weight:800; font-size:12px; letter-spacing:.06em}
    h1{font-size:44px; line-height:1.08; margin:14px 0 10px}
    .gradient-text{background:linear-gradient(90deg, var(--brand), var(--accent)); -webkit-background-clip:text; background-clip:text; color:transparent}
    .subtitle{color:var(--muted); max-width:60ch}
    .hero-cta{display:flex; gap:12px; margin-top:18px; flex-wrap:wrap}
    .stats{display:grid; grid-template-columns:repeat(3,1fr); gap:14px; margin-top:22px}
    .stat{background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.08); border-radius:16px; padding:14px}
    .stat b{font-size:22px}
    .portrait{
      aspect-ratio:1/1; border-radius:24px; border:1px solid rgba(255,255,255,.1);
      background:linear-gradient(135deg, rgba(249,115,22,.25), rgba(245,158,11,.18)), url('img/ali.jpg') center/cover;
      box-shadow: var(--shadow);
    }

    /* Sections */
    section{padding:76px 0}
    .section-head{display:flex; align-items:end; justify-content:space-between; gap:16px; margin-bottom:24px}
    .section-head h2{margin:0; font-size:30px}
    .kicker{color:var(--accent); font-weight:900; letter-spacing:.22em; font-size:12px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.08); border-radius:var(--radius); padding:18px; box-shadow: var(--shadow)}

    /* About */
    .about-grid{display:grid; grid-template-columns:1fr 1fr; gap:18px}
    .about-grid p{color:#e5e7eb}
    .list{display:grid; gap:10px; margin-top:8px}
    .list li{display:flex; align-items:center; gap:10px; list-style:none}
    .tick{width:24px; height:24px; border-radius:8px; display:grid; place-items:center; background:rgba(249,115,22,.15); border:1px solid rgba(245,158,11,.5)}

    /* Skills */
    .skills{display:grid; grid-template-columns:repeat(3,1fr); gap:18px}
    .skill{padding:16px; border-radius:14px; border:1px solid rgba(255,255,255,.08); background:rgba(255,255,255,.03)}
    .bar{height:10px; background:rgba(255,255,255,.08); border-radius:999px; overflow:hidden; margin-top:10px}
    .bar > i{display:block; height:100%; background:linear-gradient(90deg,var(--brand),var(--accent))}

    /* Projects */
    .projects{display:grid; grid-template-columns:repeat(3,1fr); gap:18px}
    .project{overflow:hidden}
    .thumb{aspect-ratio:16/10; border-radius:14px; background:#111; border:1px solid rgba(255,255,255,.08); overflow:hidden; position:relative}
    .thumb img{width:100%; height:100%; object-fit:cover; display:block; filter:saturate(1.05)}
    .thumb::after{content:""; position:absolute; inset:0; background:linear-gradient( to top, rgba(0,0,0,.35), transparent 40% );}
    .tags{display:flex; gap:8px; flex-wrap:wrap; margin-top:8px}
    .tag{padding:4px 8px; border-radius:999px; border:1px solid rgba(255,255,255,.12); font-size:12px; color:#f1f5f9}

    /* Timeline */
    .timeline{position:relative; padding-left:24px}
    .timeline:before{content:""; position:absolute; left:8px; top:8px; bottom:8px; width:2px; background:linear-gradient(var(--brand), transparent)}
    .tl-item{position:relative; margin-bottom:18px}
    .tl-item:before{content:""; position:absolute; left:-1px; top:8px; width:18px; height:18px; border-radius:50%; border:2px solid var(--accent); background:#0b0b0f}

    /* Contact */
    form{display:grid; gap:12px}
    input, textarea{background:#0d0d14; border:1px solid rgba(255,255,255,.1); padding:12px 14px; border-radius:12px; color:var(--text)}
    input:focus, textarea:focus{outline:none; border-color:var(--brand-2); box-shadow:0 0 0 6px var(--ring)}

    /* Footer */
    footer{padding:38px 0 80px; color:#e2e8f0}

    /* Responsive */
    @media (max-width: 980px){
      .hero-grid{grid-template-columns:1fr;}
      .about-grid{grid-template-columns:1fr}
      .skills{grid-template-columns:1fr 1fr}
      .projects{grid-template-columns:1fr 1fr}
    }
    @media (max-width: 640px){
      .nav ul{display:none}
      .menu-btn{display:inline-flex}
      .skills, .projects{grid-template-columns:1fr}
      h1{font-size:36px}
    }

    /* Focus visibility */
    :focus-visible{outline:3px solid var(--accent); outline-offset:3px}
  </style>
</head>
<body>
  <!-- Animated BG blobs -->
  <div class="blob one" aria-hidden="true"></div>
  <div class="blob two" aria-hidden="true"></div>
  <div class="blob three" aria-hidden="true"></div>

  <!-- Header / Navigation -->
  <header>
    <div class="container nav">
      <a href="#home" class="brand" aria-label="Go to Home">
        <div class="logo" aria-hidden="true"><span>AM</span></div>
        <span>Ali <span style="opacity:.8">Mahdjoub</span></span>
      </a>
      <nav aria-label="Primary">
        <ul id="navLinks">
          <li><a href="#home" class="active" aria-current="true">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#skills">Skills</a></li>
          <li><a href="#projects">Projects</a></li>
          <li><a href="#resume">Experience</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
      <button class="menu-btn btn" id="menuBtn" aria-label="Open menu" aria-expanded="false" aria-controls="navLinks">â˜°</button>
    </div>
  </header>

  <!-- Hero -->
  <main id="home" class="hero container">
    <div class="hero-card" id="heroCard">
      <div class="sparkle" id="sparkle" aria-hidden="true"></div>
      <div class="hero-grid">
        <div>
          <span class="chip" aria-label="Tech stack">ANDROID â€¢ JAVA â€¢ KOTLIN</span>
          <h1>Hi, I'm <span class="gradient-text">Ali Mahdjoub</span> â€” Android Developer crafting smooth, modern mobile apps.</h1>
          <p class="subtitle">I build native Android experiences with clean architecture and delightful UI. I ship features endâ€‘toâ€‘end â€” from data models and APIs to polished animations.</p>
          <div class="hero-cta">
            <a class="btn" href="#projects">See my work</a>
            <a class="btn" style="background:linear-gradient(135deg,var(--accent),var(--brand))" href="cv.pdf" download aria-label="Download my CV as PDF">Download CV</a>
          </div>
          <div class="stats" role="list" aria-label="Highlights">
            <div class="stat" role="listitem"><b>10+</b><br><span class="muted">Personal/School Projects</span></div>
            <div class="stat" role="listitem"><b>2</b><br><span class="muted">Internships</span></div>
            <div class="stat" role="listitem"><b>5th year</b><br><span class="muted">CS @ CESI EXIA (DZ)</span></div>
          </div>
        </div>
        <div class="portrait" id="portrait" aria-label="Profile portrait"></div>
      </div>
    </div>
  </main>

  <!-- About -->
  <section id="about" aria-labelledby="about-title">
    <div class="container">
      <div class="section-head">
        <div>
          <div class="kicker">ABOUT</div>
          <h2 id="about-title">About Me</h2>
        </div>
        <label class="btn secondary" for="photoInput" role="button" aria-controls="photoInput">Upload my photo</label>
      </div>
      <input id="photoInput" type="file" accept="image/*" style="display:none" />
      <div class="about-grid">
        <div class="card">
          <p>
            I'm a junior Android developer focused on shipping reliable apps. My interests include Clean Architecture (MVVM), Jetpack libraries, offlineâ€‘first data, and accessible UI.
            I also enjoy data modeling and SQL, and I'm expanding into Python for tooling.
          </p>
          <ul class="list">
            <li><span class="tick" aria-hidden="true">âœ“</span> Native Android (Java & Kotlin)</li>
            <li><span class="tick" aria-hidden="true">âœ“</span> Jetpack â€¢ Retrofit â€¢ Room</li>
            <li><span class="tick" aria-hidden="true">âœ“</span> Unit/UI tests â€¢ Espresso/Mockito</li>
            <li><span class="tick" aria-hidden="true">âœ“</span> Agile sprints with Trello/Jira</li>
          </ul>
        </div>
        <div class="card" style="display:grid; grid-template-columns:120px 1fr; gap:14px; align-items:center">
          <img id="aboutPhoto" src="img/ali.jpg" alt="Portrait of Ali Mahdjoub" loading="lazy" width="120" height="120" style="width:120px; height:120px; object-fit:cover; border-radius:18px; border:1px solid rgba(255,255,255,.1)">
          <div>
            <p>Education: 5thâ€‘year Computer Science student at CESI EXIA (Algeria). Open to remote collaborations and internships.</p>
            <p>Languages: English â€¢ French â€¢ Arabic. Based in Algeria.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Skills -->
  <section id="skills" aria-labelledby="skills-title">
    <div class="container">
      <div class="section-head">
        <div>
          <div class="kicker">STACK</div>
          <h2 id="skills-title">Skills</h2>
        </div>
        <span style="color:var(--muted)">Always learning ðŸš€</span>
      </div>
      <div class="skills">
        <div class="skill">
          <b>Android (Java/Kotlin)</b>
          <div class="bar" aria-label="Android proficiency 88%"><i style="width:88%"></i></div>
        </div>
        <div class="skill">
          <b>Jetpack (ViewModel, Navigation, Room)</b>
          <div class="bar" aria-label="Jetpack proficiency 80%"><i style="width:80%"></i></div>
        </div>
        <div class="skill">
          <b>Clean Architecture â€¢ MVVM</b>
          <div class="bar" aria-label="Clean Architecture proficiency 78%"><i style="width:78%"></i></div>
        </div>
        <div class="skill">
          <b>REST APIs â€¢ Retrofit</b>
          <div class="bar" aria-label="APIs proficiency 82%"><i style="width:82%"></i></div>
        </div>
        <div class="skill">
          <b>SQLite â€¢ Room â€¢ SQL</b>
          <div class="bar" aria-label="Databases proficiency 75%"><i style="width:75%"></i></div>
        </div>
        <div class="skill">
          <b>Git â€¢ GitHub â€¢ CI basics</b>
          <div class="bar" aria-label="Git proficiency 72%"><i style="width:72%"></i></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Projects -->
  <section id="projects" aria-labelledby="projects-title">
    <div class="container">
      <div class="section-head">
        <div>
          <div class="kicker">WORK</div>
          <h2 id="projects-title">Featured Projects</h2>
        </div>
        <a class="btn" href="https://github.com/" target="_blank" rel="noopener noreferrer">GitHub</a>
      </div>
      <div class="projects">
        <article class="card project">
          <div class="thumb">
            <img alt="Hotel search app mock" loading="lazy" src="data:image/svg+xml;utf8,<?xml version='1.0'?><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 1000'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop stop-color='%23f97316'/><stop offset='1' stop-color='%23fde047'/></linearGradient></defs><rect width='1600' height='1000' fill='url(%23g)'/><g fill='white' fill-opacity='.85'><rect x='180' y='180' rx='30' width='1240' height='120'/><rect x='180' y='340' rx='30' width='880' height='120'/><rect x='1080' y='340' rx='30' width='340' height='120'/><rect x='180' y='500' rx='30' width='1240' height='320'/></g></svg>">
          </div>
          <h3>Hotel Finder (Amadeus API)</h3>
          <p class="subtitle">Android app like Skyscanner for hotels: city autocomplete, hotels with price & photos.</p>
          <div class="tags">
            <span class="tag">Android</span><span class="tag">Kotlin</span><span class="tag">Amadeus</span><span class="tag">Retrofit</span>
          </div>
        </article>
        <article class="card project">
          <div class="thumb">
            <img alt="Timer app mock" loading="lazy" src="data:image/svg+xml;utf8,<?xml version='1.0'?><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 1000'><defs><linearGradient id='g2' x1='0' y1='0' x2='1' y2='1'><stop stop-color='%23f59e0b'/><stop offset='1' stop-color='%23f97316'/></linearGradient></defs><rect width='1600' height='1000' fill='url(%23g2)'/><g fill='white' fill-opacity='.9'><circle cx='400' cy='500' r='180'/><rect x='700' y='380' rx='30' width='720' height='80'/><rect x='700' y='500' rx='30' width='580' height='80'/></g></svg>">
          </div>
          <h3>Timer App</h3>
          <p class="subtitle">Multiple realâ€‘time timers, background service, notifications, and persistent storage.</p>
          <div class="tags">
            <span class="tag">Android</span><span class="tag">Java</span><span class="tag">Room</span>
          </div>
        </article>
        <article class="card project">
          <div class="thumb">
            <img alt="Agency app mock" loading="lazy" src="data:image/svg+xml;utf8,<?xml version='1.0'?><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 1000'><defs><linearGradient id='g3' x1='0' y1='0' x2='1' y2='1'><stop stop-color='%23fde047'/><stop offset='1' stop-color='%23f59e0b'/></linearGradient></defs><rect width='1600' height='1000' fill='url(%23g3)'/><g fill='white' fill-opacity='.85'><rect x='220' y='220' rx='24' width='1160' height='120'/><rect x='220' y='380' rx='24' width='860' height='300'/><rect x='1100' y='380' rx='24' width='280' height='300'/></g></svg>">
          </div>
          <h3>Travel Agency Manager</h3>
          <p class="subtitle">Prototype covering clients, services, invoices, HR, events â€” inspired by OPERA system.</p>
          <div class="tags">
            <span class="tag">Android</span><span class="tag">Kotlin</span><span class="tag">SQLite</span>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Resume / Experience -->
  <section id="resume" aria-labelledby="resume-title">
    <div class="container">
      <div class="section-head">
        <div>
          <div class="kicker">RESUME</div>
          <h2 id="resume-title">Experience</h2>
        </div>
        <a class="btn" href="cv.pdf" download aria-label="Download my resume as PDF">Download PDF</a>
      </div>
      <div class="card timeline">
        <div class="tl-item">
          <h3>Android Intern â€” Industrial Maintenance Co.</h3>
          <div class="subtitle">Built an internal app to track equipment maintenance and tasks.</div>
          <div class="tags" style="margin:8px 0 0"><span class="tag">Kotlin</span><span class="tag">Room</span><span class="tag">WorkManager</span></div>
        </div>
        <div class="tl-item">
          <h3>Android Intern â€” Travel Agency</h3>
          <div class="subtitle">Client profiles, bookings, invoice module, and analytics dashboard.</div>
          <div class="tags" style="margin:8px 0 0"><span class="tag">Java</span><span class="tag">Retrofit</span><span class="tag">MPAndroidChart</span></div>
        </div>
        <div class="tl-item">
          <h3>Freelance & School Projects</h3>
          <div class="subtitle">From small utilities to full apps â€” focus on UX and performance.</div>
          <div class="tags" style="margin:8px 0 0"><span class="tag">MVVM</span><span class="tag">Jetpack</span><span class="tag">Git</span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" aria-labelledby="contact-title">
    <div class="container">
      <div class="section-head">
        <div>
          <div class="kicker">CONTACT</div>
          <h2 id="contact-title">Let's work together</h2>
        </div>
        <span style="color:var(--muted)">Response within 24h</span>
      </div>
      <div class="card">
        <form id="contactForm">
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px">
            <label>
              <span class="sr-only">Your name</span>
              <input required name="name" placeholder="Your name" autocomplete="name" />
            </label>
            <label>
              <span class="sr-only">Your email</span>
              <input required type="email" name="email" placeholder="Your email" autocomplete="email" />
            </label>
          </div>
          <input name="subject" placeholder="Subject (optional)" />
          <textarea required name="message" rows="5" placeholder="Tell me about your project..."></textarea>
          <div style="display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap">
            <button class="btn" type="submit">Send Message</button>
            <div style="opacity:.8">Or email: <a href="mailto:ali.mahdjoub.dev@gmail.com" style="text-decoration:underline; color:var(--accent)">ali.mahdjoub.dev@gmail.com</a></div>
          </div>
        </form>
      </div>
    </div>
  </section>

  <footer>
    <div class="container" style="display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap">
      <div>Â© <span id="year"></span> Ali Mahdjoub â€” All rights reserved.</div>
      <div style="display:flex; gap:12px">
        <a class="tag" href="https://github.com/" target="_blank" rel="noopener noreferrer">GitHub</a>
        <a class="tag" href="https://www.linkedin.com/" target="_blank" rel="noopener noreferrer">LinkedIn</a>
        <a class="tag" href="#home">Back to top â†‘</a>
      </div>
    </div>
  </footer>

  <script>
    // Utility: screen reader only class
    (function(){
      const style = document.createElement('style');
      style.textContent = `.sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}`;
      document.head.appendChild(style);
    })();

    // Mobile menu toggle
    const menuBtn = document.getElementById('menuBtn');
    const navLinks = document.getElementById('navLinks');
    menuBtn?.addEventListener('click', () => {
      const visible = getComputedStyle(navLinks).display !== 'none';
      navLinks.style.display = visible ? 'none' : 'flex';
      navLinks.style.flexDirection = 'column';
      navLinks.style.gap = '14px';
      navLinks.style.background = 'rgba(10,10,16,.98)';
      navLinks.style.position = 'absolute';
      navLinks.style.right = '20px';
      navLinks.style.top = '64px';
      navLinks.style.padding = '16px';
      navLinks.style.border = '1px solid rgba(255,255,255,.08)';
      navLinks.style.borderRadius = '12px';
      menuBtn.setAttribute('aria-expanded', String(!visible));
    });

    // Close mobile menu after clicking a link
    navLinks?.addEventListener('click', (e)=>{
      const target = e.target;
      if(target.tagName === 'A' && getComputedStyle(menuBtn).display !== 'none'){
        navLinks.style.display = 'none';
        menuBtn.setAttribute('aria-expanded', 'false');
      }
    });

    // Active link highlight on scroll + aria-current
    const sections = ['home','about','skills','projects','resume','contact'].map(id => document.getElementById(id));
    const links = Array.from(document.querySelectorAll('header nav a'));
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          links.forEach(l=>{l.classList.remove('active'); l.setAttribute('aria-current', 'false');});
          const link = document.querySelector(`header nav a[href="#${e.target.id}"]`);
          if(link){ link.classList.add('active'); link.setAttribute('aria-current', 'true'); }
        }
      })
    }, {rootMargin:'-40% 0px -50% 0px', threshold:0});
    sections.forEach(s=>s && io.observe(s));

    // Handle contact form (no backend): open mailto
    document.getElementById('contactForm')?.addEventListener('submit', (e)=>{
      e.preventDefault();
      const data = Object.fromEntries(new FormData(e.target).entries());
      const body = encodeURIComponent(`${data.message}\n\nFrom: ${data.name} <${data.email}>`);
      const subject = encodeURIComponent(data.subject || 'New message from portfolio');
      window.location.href = `mailto:ali.mahdjoub.dev@gmail.com?subject=${subject}&body=${body}`;
    });

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Subtle hero sparkle following pointer
    const sparkle = document.getElementById('sparkle');
    document.getElementById('heroCard')?.addEventListener('pointermove', (e)=>{
      const rect = e.currentTarget.getBoundingClientRect();
      const x = ((e.clientX - rect.left)/rect.width)*100;
      const y = ((e.clientY - rect.top)/rect.height)*100;
      sparkle.style.setProperty('--x', x + '%');
      sparkle.style.setProperty('--y', y + '%');
    });

    // Upload local photo and use it in Hero + About
    const photoInput = document.getElementById('photoInput');
    const portrait = document.getElementById('portrait');
    const aboutPhoto = document.getElementById('aboutPhoto');
    photoInput?.addEventListener('change', (e)=>{
      const file = e.target.files?.[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = () => {
        const url = reader.result;
        portrait.style.backgroundImage = `linear-gradient(135deg, rgba(249,115,22,.25), rgba(245,158,11,.18)), url('${url}')`;
        aboutPhoto.src = url;
      };
      reader.readAsDataURL(file);
    });
  </script>
</body>
</html>
